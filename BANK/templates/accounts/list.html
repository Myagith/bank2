{% extends 'base.html' %}
{% block title %}Comptes{% endblock %}
{% block content %}
<h2>Comptes</h2>
<form method="get" class="filters">
  <label>Banque</label><input type="text" name="customer__bank" value="{{ request.GET.customer__bank }}">
  <label>Statut</label><input type="text" name="status" value="{{ request.GET.status }}">
  <label>Type</label><input type="text" name="type" value="{{ request.GET.type }}">
  <button class="btn" type="submit">Filtrer</button>
</form>
<a class="btn" href="/accounts/create/">Créer un compte</a>
<table class="table">
  <thead><tr><th>Numéro</th><th>Client</th><th>Type</th><th>Statut</th><th>Solde</th><th>Actions</th></tr></thead>
  <tbody>
    {% for a in accounts %}
      <tr>
        <td><a href="/accounts/{{ a.pk }}/">{{ a.number }}</a></td>
        <td>{{ a.customer }}</td>
        <td>{{ a.type }}</td>
        <td>{{ a.status }}</td>
        <td>{{ a.balance }}</td>
        <td><a href="/accounts/{{ a.pk }}/update/">Modifier</a></td>
      </tr>
    {% empty %}<tr><td colspan="6">Aucune donnée</td></tr>{% endfor %}
  </tbody>
</table>
{% endblock %}