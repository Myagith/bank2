{% extends 'base.html' %}
{% block title %}Accounts{% endblock %}
{% block content %}
<h2>Accounts</h2>
<form method="get" class="filters">
  <label>Bank</label><input type="text" name="customer__bank" value="{{ request.GET.customer__bank }}">
  <label>Status</label><input type="text" name="status" value="{{ request.GET.status }}">
  <label>Type</label><input type="text" name="type" value="{{ request.GET.type }}">
  <button class="btn" type="submit">Filter</button>
</form>
<a class="btn" href="/accounts/create/">Open Account</a>
<table class="table">
  <thead><tr><th>Number</th><th>Customer</th><th>Type</th><th>Status</th><th>Balance</th><th>Actions</th></tr></thead>
  <tbody>
    {% for a in accounts %}
      <tr>
        <td><a href="/accounts/{{ a.pk }}/">{{ a.number }}</a></td>
        <td>{{ a.customer }}</td>
        <td>{{ a.type }}</td>
        <td>{{ a.status }}</td>
        <td>{{ a.balance }}</td>
        <td><a href="/accounts/{{ a.pk }}/update/">Edit</a></td>
      </tr>
    {% empty %}<tr><td colspan="6">No data</td></tr>{% endfor %}
  </tbody>
</table>
{% endblock %}